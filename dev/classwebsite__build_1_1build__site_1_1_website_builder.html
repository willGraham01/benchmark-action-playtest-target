<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TLOModel - Profiling: website_build.build_site.WebsiteBuilder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TLOModel - Profiling
   </div>
   <div id="projectbrief">Autorendering profiling outputs from the TLOModel</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>website_build</b></li><li class="navelem"><b>build_site</b></li><li class="navelem"><a class="el" href="classwebsite__build_1_1build__site_1_1_website_builder.html">WebsiteBuilder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classwebsite__build_1_1build__site_1_1_website_builder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">website_build.build_site.WebsiteBuilder Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0f9c931f25601df1fa1f61565260078a"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsite__build_1_1build__site_1_1_website_builder.html#a0f9c931f25601df1fa1f61565260078a">__init__</a> (self, str source_branch, bool clean_build=False, Path build_dir=DEFAULT_BUILD_DIR, bool flatten_paths=True)</td></tr>
<tr class="separator:a0f9c931f25601df1fa1f61565260078a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184cbf2b0958fa06acab52c9b36a03e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsite__build_1_1build__site_1_1_website_builder.html#a184cbf2b0958fa06acab52c9b36a03e6">write_pyis_to_html</a> (self)</td></tr>
<tr class="separator:a184cbf2b0958fa06acab52c9b36a03e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2228700140983437210c5ca641dc0256"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsite__build_1_1build__site_1_1_website_builder.html#a2228700140983437210c5ca641dc0256">write_profiling_lookup_table</a> (self)</td></tr>
<tr class="separator:a2228700140983437210c5ca641dc0256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca3f33de15d07531f3165119916fe3f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsite__build_1_1build__site_1_1_website_builder.html#aca3f33de15d07531f3165119916fe3f1">collect_run_stats</a> (self, str stats_file_extension=&quot;stats.json&quot;)</td></tr>
<tr class="separator:aca3f33de15d07531f3165119916fe3f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a108af8d9465888343b074a42624c1687"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsite__build_1_1build__site_1_1_website_builder.html#a108af8d9465888343b074a42624c1687">write_run_stats_page</a> (self)</td></tr>
<tr class="separator:a108af8d9465888343b074a42624c1687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c3bfb09c91db932506176d5b5ef61a"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsite__build_1_1build__site_1_1_website_builder.html#ab4c3bfb09c91db932506176d5b5ef61a">build</a> (self)</td></tr>
<tr class="separator:ab4c3bfb09c91db932506176d5b5ef61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac9f73a9509cc3903fac9bed1c12a6a3c"><td class="memItemLeft" align="right" valign="top"><a id="ac9f73a9509cc3903fac9bed1c12a6a3c" name="ac9f73a9509cc3903fac9bed1c12a6a3c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>source_branch</b></td></tr>
<tr class="separator:ac9f73a9509cc3903fac9bed1c12a6a3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef702dd87be00756b1591e9b39c93120"><td class="memItemLeft" align="right" valign="top"><a id="aef702dd87be00756b1591e9b39c93120" name="aef702dd87be00756b1591e9b39c93120"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>df</b></td></tr>
<tr class="separator:aef702dd87be00756b1591e9b39c93120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2567bcf135c10f63c8b5c152dc892851"><td class="memItemLeft" align="right" valign="top"><a id="a2567bcf135c10f63c8b5c152dc892851" name="a2567bcf135c10f63c8b5c152dc892851"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>build_dir</b></td></tr>
<tr class="separator:a2567bcf135c10f63c8b5c152dc892851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a329faa590de2a61e255a47c12d0f522f"><td class="memItemLeft" align="right" valign="top"><a id="a329faa590de2a61e255a47c12d0f522f" name="a329faa590de2a61e255a47c12d0f522f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>clean_build</b></td></tr>
<tr class="separator:a329faa590de2a61e255a47c12d0f522f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2de362272b508e8636efba2f10fdafb"><td class="memItemLeft" align="right" valign="top"><a id="ac2de362272b508e8636efba2f10fdafb" name="ac2de362272b508e8636efba2f10fdafb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>flatten_paths</b></td></tr>
<tr class="separator:ac2de362272b508e8636efba2f10fdafb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45e06bd1c9a578ab1e5a2945cb4730ac"><td class="memItemLeft" align="right" valign="top"><a id="a45e06bd1c9a578ab1e5a2945cb4730ac" name="a45e06bd1c9a578ab1e5a2945cb4730ac"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>dump_folder</b></td></tr>
<tr class="separator:a45e06bd1c9a578ab1e5a2945cb4730ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebe94efabcd99d1772c366246293cc5d"><td class="memItemLeft" align="right" valign="top"><a id="aebe94efabcd99d1772c366246293cc5d" name="aebe94efabcd99d1772c366246293cc5d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>plots</b></td></tr>
<tr class="separator:aebe94efabcd99d1772c366246293cc5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a6070d68764f5354ccebea85487879d20"><td class="memItemLeft" align="right" valign="top"><a id="a6070d68764f5354ccebea85487879d20" name="a6070d68764f5354ccebea85487879d20"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>clean_build</b></td></tr>
<tr class="separator:a6070d68764f5354ccebea85487879d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0140893b13d832c784efbe06f8c296f"><td class="memItemLeft" align="right" valign="top"><a id="aa0140893b13d832c784efbe06f8c296f" name="aa0140893b13d832c784efbe06f8c296f"></a>
pd&#160;</td><td class="memItemRight" valign="bottom"><b>df</b> .DataFrame</td></tr>
<tr class="separator:aa0140893b13d832c784efbe06f8c296f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0688f53a73554525b5d25ffcdcb71136"><td class="memItemLeft" align="right" valign="top"><a id="a0688f53a73554525b5d25ffcdcb71136" name="a0688f53a73554525b5d25ffcdcb71136"></a>
Dict&#160;</td><td class="memItemRight" valign="bottom"><b>plots</b> [str, Path]</td></tr>
<tr class="separator:a0688f53a73554525b5d25ffcdcb71136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4444478bd23317c5d9034a278753a5ad"><td class="memItemLeft" align="right" valign="top"><a id="a4444478bd23317c5d9034a278753a5ad" name="a4444478bd23317c5d9034a278753a5ad"></a>
str&#160;</td><td class="memItemRight" valign="bottom"><b>source_branch</b></td></tr>
<tr class="separator:a4444478bd23317c5d9034a278753a5ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2166c2ff957818bcf6d26b9f5623e42a"><td class="memItemLeft" align="right" valign="top"><a id="a2166c2ff957818bcf6d26b9f5623e42a" name="a2166c2ff957818bcf6d26b9f5623e42a"></a>
Path&#160;</td><td class="memItemRight" valign="bottom"><b>build_dir</b></td></tr>
<tr class="separator:a2166c2ff957818bcf6d26b9f5623e42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da731b4b5a9add028e1838571b1bdfa"><td class="memItemLeft" align="right" valign="top"><a id="a6da731b4b5a9add028e1838571b1bdfa" name="a6da731b4b5a9add028e1838571b1bdfa"></a>
Path&#160;</td><td class="memItemRight" valign="bottom"><b>dump_folder</b></td></tr>
<tr class="separator:a6da731b4b5a9add028e1838571b1bdfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88483ddb7b40a9ab4bd7b8355e9c29ab"><td class="memItemLeft" align="right" valign="top"><a id="a88483ddb7b40a9ab4bd7b8355e9c29ab" name="a88483ddb7b40a9ab4bd7b8355e9c29ab"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>flatten_paths</b></td></tr>
<tr class="separator:a88483ddb7b40a9ab4bd7b8355e9c29ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aeced66225052de7eca9c934d4bff5cfe"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsite__build_1_1build__site_1_1_website_builder.html#aeced66225052de7eca9c934d4bff5cfe">_infer_filename_information</a> (self)</td></tr>
<tr class="separator:aeced66225052de7eca9c934d4bff5cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Handles the construction of the gh-pages website,
by building the source files from the .pyisession files that the source branch contains.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0f9c931f25601df1fa1f61565260078a" name="a0f9c931f25601df1fa1f61565260078a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f9c931f25601df1fa1f61565260078a">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None website_build.build_site.WebsiteBuilder.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>source_branch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>clean_build</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Path &#160;</td>
          <td class="paramname"><em>build_dir</em> = <code>DEFAULT_BUILD_DIR</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>flatten_paths</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialise the builder by providing the branch the pyis files are stored,
and build parameters.

:param source_branch: Branch of the git repo on which pyis files are stored.
:param clean_build: Purge build directory of its contents before beginning.
:param build_dir: The directory to write the website files to.
:param flatten_paths: If True, the directory structure of the source branch will be ignored, and the build directory will be flat.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aeced66225052de7eca9c934d4bff5cfe" name="aeced66225052de7eca9c934d4bff5cfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeced66225052de7eca9c934d4bff5cfe">&#9670;&#160;</a></span>_infer_filename_information()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None website_build.build_site.WebsiteBuilder._infer_filename_information </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Infer information about the profiling runs by examining the filenames the
pyis sessions are saved under.

Filenames are assumed to obey the convention described in filename_information.py.
</pre> 
</div>
</div>
<a id="ab4c3bfb09c91db932506176d5b5ef61a" name="ab4c3bfb09c91db932506176d5b5ef61a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4c3bfb09c91db932506176d5b5ef61a">&#9670;&#160;</a></span>build()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None website_build.build_site.WebsiteBuilder.build </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Build the website source files and populate the site DataFrame.
</pre> 
</div>
</div>
<a id="aca3f33de15d07531f3165119916fe3f1" name="aca3f33de15d07531f3165119916fe3f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca3f33de15d07531f3165119916fe3f1">&#9670;&#160;</a></span>collect_run_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">website_build.build_site.WebsiteBuilder.collect_run_stats </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>stats_file_extension</em> = <code>&quot;stats.json&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Read any saved stats (if they exist) for each pyis session and populate
the columns of the DataFrame with this information.
</pre> 
</div>
</div>
<a id="a2228700140983437210c5ca641dc0256" name="a2228700140983437210c5ca641dc0256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2228700140983437210c5ca641dc0256">&#9670;&#160;</a></span>write_profiling_lookup_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str website_build.build_site.WebsiteBuilder.write_profiling_lookup_table </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create the markdown source for the profiling results lookup table,
by extracting the relevant columns from the DataFrame.
</pre> 
</div>
</div>
<a id="a184cbf2b0958fa06acab52c9b36a03e6" name="a184cbf2b0958fa06acab52c9b36a03e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a184cbf2b0958fa06acab52c9b36a03e6">&#9670;&#160;</a></span>write_pyis_to_html()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">website_build.build_site.WebsiteBuilder.write_pyis_to_html </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Render the HTML output of all pyis files on the source branch,
writing the outputs to the build directory.

Updates the site DataFrame to keep track of which HTML file corresponds
to which pyis file.
</pre> 
</div>
</div>
<a id="a108af8d9465888343b074a42624c1687" name="a108af8d9465888343b074a42624c1687"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a108af8d9465888343b074a42624c1687">&#9670;&#160;</a></span>write_run_stats_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None website_build.build_site.WebsiteBuilder.write_run_stats_page </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> </pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>website_build/build_site.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
